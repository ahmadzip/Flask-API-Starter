## Daftar Isi
- [Prasyarat](#prasyarat)
- [Instalasi dan Setup](#instalasi-dan-setup)
- [Menjalankan Aplikasi](#menjalankan-aplikasi)
- [Menjalankan Testing](#menjalankan-testing)
- [Struktur Project](#struktur-project)
- [Dokumentasi API](#dokumentasi-api)

## Prasyarat
- Python 3.x
- pip (Python Package Installer)
- Git (Opsional)

## Instalasi dan Setup

Ikuti langkah-langkah berikut untuk menyiapkan project dari awal:

1.  **Clone atau Download Project**
    (Jika menggunakan git)
    ```bash
    git clone <repository-url>
    cd <folder-project>
    ```

2.  **Buat Virtual Environment**
    Disarankan menggunakan virtual environment agar library tidak tercampur dengan sistem global.
    ```bash
    # Windows
    python -m venv venv
    
    # Linux/Mac
    python3 -m venv venv
    ```

3.  **Aktifkan Virtual Environment**
    Langkah ini **wajib** dilakukan setiap kali akan menjalankan project.
    ```bash
    # Windows (Command Prompt)
    venv\Scripts\activate
    
    # Windows (PowerShell)
    venv\Scripts\Activate.ps1
    
    # Linux/Mac
    source venv/bin/activate
    ```

4.  **Install Dependencies**
    Install semua library yang dibutuhkan yang terdaftar di `requirements.txt`.
    ```bash
    pip install -r requirements.txt
    ```

5.  **Setup Database**
    Inisialisasi dan jalankan migrasi database untuk membuat tabel.
    ```bash
    # Inisialisasi folder migrations (jika belum ada)
    flask db init
    
    # Membuat file migrasi berdasarkan model
    flask db migrate -m "Initial migration"
    
    # Menerapkan migrasi ke database (membuat tabel)
    flask db upgrade
    ```

## Menjalankan Aplikasi

Pastikan virtual environment sudah aktif, lalu jalankan perintah:

```bash
flask run
```
Atau menggunakan Python langsung:
```bash
python main.py
```

Aplikasi akan berjalan di `http://127.0.0.1:5000/`.

## Menjalankan Testing

Project ini menggunakan `pytest` untuk unit testing.

```bash
pytest
```

## Struktur Project

Berikut adalah struktur direktori project beserta penjelasannya:

```
PYTHON/
├── app/                        # Folder utama aplikasi
│   ├── controller/             # Logika bisnis (Controller)
│   │   ├── __init__.py
│   │   └── UserController.py   # Controller untuk operasi User (CRUD)
│   ├── model/                  # Definisi Database (Model)
│   │   ├── __init__.py         # Export model agar mudah diimport
│   │   ├── todo.py             # Model tabel Todos
│   │   └── user.py             # Model tabel User
│   ├── __init__.py             # Inisialisasi aplikasi Flask, DB, dan Migrate
│   ├── response.py             # Helper untuk format response JSON standar
│   └── routes.py               # Definisi URL/Endpoint (View/Route)
├── migrations/                 # File-file migrasi database (generated by alembic)
├── tests/                      # Folder untuk Unit Testing
│   ├── conftest.py             # Konfigurasi dan fixture untuk pytest
│   └── test_user.py            # Test case untuk fitur User
├── venv/                       # Virtual Environment (library python tersimpan di sini)
├── .flaskenv                   # Environment variables untuk Flask (FLASK_APP, FLASK_DEBUG)
├── app.db                      # File database SQLite (terbuat otomatis)
├── config.py                   # Konfigurasi aplikasi (Database URI, Secret Key)
├── main.py                     # Entry point aplikasi
├── pytest.ini                  # Konfigurasi pytest
└── requirements.txt            # Daftar library yang digunakan
```

### Penjelasan File Penting:

*   **`app/__init__.py`**: Jantung aplikasi. Di sini Flask diinisialisasi, koneksi database dibuat, dan blueprint route didaftarkan.
*   **`app/routes.py`**: Mengatur rute URL. Misalnya, jika user akses `/users`, file ini yang menentukan fungsi mana di Controller yang akan menangani.
*   **`app/controller/UserController.py`**: Berisi logika CRUD (Create, Read, Update, Delete). Menerima input dari request, memproses data dengan Model, dan mengembalikan response JSON.
*   **`app/model/`**: Berisi definisi tabel database menggunakan SQLAlchemy.
*   **`app/response.py`**: Fungsi bantuan (`ok`, `badRequest`) untuk memastikan format JSON yang dikembalikan konsisten (ada field `data` dan `message`).
*   **`config.py`**: Mengatur settingan seperti lokasi database. Saat ini menggunakan SQLite.

## Dokumentasi API

Berikut adalah daftar endpoint yang tersedia.

### 1. User

#### Get All Users
Mengambil daftar semua user.
*   **URL**: `/users`
*   **Method**: `GET`
*   **Response Success (200)**:
    ```json
    {
        "data": [
            {
                "id": 1,
                "name": "John Doe",
                "email": "john@example.com"
            }
        ],
        "message": ""
    }
    ```

#### Create User
Membuat user baru.
*   **URL**: `/users`
*   **Method**: `POST`
*   **Body (JSON)**:
    ```json
    {
        "name": "John Doe",
        "email": "john@example.com",
        "password": "secretpassword"
    }
    ```
*   **Response Success (200)**:
    ```json
    {
        "data": {
            "id": 1,
            "name": "John Doe",
            "email": "john@example.com"
        },
        "message": "User created successfully"
    }
    ```

#### Get User Detail
Mengambil data satu user berdasarkan ID.
*   **URL**: `/users/<id>`
*   **Method**: `GET`
*   **Response Success (200)**:
    ```json
    {
        "data": {
            "id": 1,
            "name": "John Doe",
            "email": "john@example.com"
        },
        "message": ""
    }
    ```

#### Update User
Mengubah data user.
*   **URL**: `/users/<id>`
*   **Method**: `PUT`
*   **Body (JSON)**: (Kirim field yang ingin diubah saja)
    ```json
    {
        "name": "John Updated"
    }
    ```
*   **Response Success (200)**:
    ```json
    {
        "data": {
            "id": 1,
            "name": "John Updated",
            "email": "john@example.com"
        },
        "message": "User updated successfully"
    }
    ```

#### Delete User
Menghapus user.
*   **URL**: `/users/<id>`
*   **Method**: `DELETE`
*   **Response Success (200)**:
    ```json
    {
        "data": [],
        "message": "User deleted successfully"
    }
    ```
